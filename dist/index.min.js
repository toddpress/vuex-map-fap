!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("traverse")):"function"==typeof define&&define.amd?define(["exports","traverse"],e):e((t=t||self)["vuex-map-fields"]={},t.traverse)}(this,function(t,e){"use strict";function r(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],n=!0,i=!1,u=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,u=t}finally{try{n||null==a.return||a.return()}finally{if(i)throw u}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(t,e){var r=e.split(".").slice(-1)[0];if(t[r])throw new Error("The key `".concat(r,"` is already in use."));return t[r]=e,t},{})}function u(t,r,n,i,o){return r=JSON.parse(JSON.stringify(r)),e(r).forEach(function(e){var r="".concat(o,".").concat(this.path.join("."));this.isLeaf?Object.defineProperty(this.parent.node,this.key,function(t,e,r,n){return{get:function(){return t.getters[r](e)},set:function(r){t.commit(n,{path:e,value:r})}}}(t,r,i,n)):this.isRoot||Object.defineProperty(this.parent.node,this.key,function(t,e,r,n,i){return{get:function(){return e},set:function(o){t.commit(i,{path:r,value:o}),e=u(t,o,i,n,r)}}}(t,e,r,i,n))})}function o(t){return function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var u=n("string"==typeof r[0]?[].concat(r):[""].concat(r),4),o=u[0],a=u[1],c=u[2],f=u[3];return o.length&&"/"!==o.charAt(o.length-1)&&(o+="/"),c="".concat(o).concat(c||"getField"),f="".concat(o).concat(f||"updateField"),t(o,a,c,f)}}function a(t){return function(e){return e.split(/[.[\]]+/).reduce(function(t,e){return t[e]},t)}}function c(t,e){var r=e.path,n=e.value;r.split(/[.[\]]+/).reduce(function(t,e,r,i){return i.length===r+1&&(t[e]=n),t[e]},t)}e=e&&e.hasOwnProperty("default")?e.default:e;var f=o(function(t,e,r,n){var u=Array.isArray(e)?i(e):e;return Object.keys(u).reduce(function(t,e){var i=u[e],o={get:function(){return this.$store.getters[r](i)},set:function(t){this.$store.commit(n,{path:i,value:t})}};return t[e]=o,t},{})}),s=o(function(t,e,r,n){var o=Array.isArray(e)?i(e):e;return Object.keys(o).reduce(function(t,e){var i,a=o[e];return t[e]={get:function(){var t=this.$store;if(i)return i;var e=t.getters[r](a);return i=u(t,e,n,r,a)},set:function(t){var e=this.$store;if(e.commit(n,{path:a,value:t}),"object"!=typeof t)e.commit(n,{path:a,value:t});else{var o=e.getters[r](a);i=u(e,o,n,r,a)}}},t},{})});t.createHelpers=function(t){var e,n=t.getterType,i=t.mutationType;return r(e={},n,a),r(e,i,c),r(e,"mapFields",o(function(t,e){return f(t,e,n,i)})),r(e,"mapMultiRowFields",o(function(t,e){return s(t,e,n,i)})),e},t.getField=a,t.mapFields=f,t.mapMultiRowFields=s,t.updateField=c,Object.defineProperty(t,"__esModule",{value:!0})});